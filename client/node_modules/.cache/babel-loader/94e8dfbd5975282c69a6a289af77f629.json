{"ast":null,"code":"/**\n * {\n * order:[],\n * price:[],\n * department:[]\n * }\n */\nexport default (function (state) {\n  var result = '';\n  var order = '';\n  var department = '';\n  var range = '';\n\n  for (var name in state) {\n    // order filter\n    if (name === 'order') {\n      var temp = '';\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = state[name][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var v = _step.value;\n          temp = v;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (temp.toUpperCase() === 'ASCENDING') {\n        order = 'order=price';\n      }\n\n      if (temp.toUpperCase() === 'DESCENDING') {\n        order = 'order=-price';\n      }\n    } // department filter\n\n\n    if (name === 'department') {\n      var _base_str = '';\n\n      if (state[name].length > 1) {\n        _base_str = '&department=';\n      } else {\n        _base_str = 'department=';\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = state[name][Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var d = _step2.value;\n          department += _base_str + d.charAt(0).concat(d.slice(1).toLowerCase());\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    } // price filter\n\n\n    if (name === 'price') {\n      var _price_str_arr = [];\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = state[name][Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var p = _step3.value;\n\n          if (p.match(/less/i)) {\n            p = p.replace(/[\\D]+/i, '0 - ');\n          }\n\n          if (p.match(/greater/i)) {\n            p = p.replace(/[\\D]+/i, '').concat(' - 999');\n          }\n\n          _price_str_arr = _price_str_arr.concat(p.match(/[\\d]+/g));\n        } // sort the array\n\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      var sorted_matched_arr = _price_str_arr.sort(function (a, b) {\n        return a - b;\n      }); // remove duplicates\n\n\n      for (var index = 0; index < sorted_matched_arr.length; index++) {\n        if (sorted_matched_arr[index] === sorted_matched_arr[index + 1]) {\n          sorted_matched_arr.splice(index, 2);\n          index--;\n        }\n      } // generate price range string\n\n\n      for (var _index = 0; _index < sorted_matched_arr.length; _index++) {\n        if (_index % 2 === 0) {\n          if (range) {\n            range += \"&range=\".concat(sorted_matched_arr[_index], \"-\").concat(sorted_matched_arr[_index + 1]);\n          } else {\n            range += \"range=\".concat(sorted_matched_arr[_index], \"-\").concat(sorted_matched_arr[_index + 1]);\n          }\n        }\n      }\n    }\n  }\n\n  if (range) {\n    result += range;\n  }\n\n  if (order) {\n    if (result) {\n      order = \"&\".concat(order);\n    }\n\n    result += order;\n  }\n\n  if (department) {\n    if (result) {\n      department = \"&\".concat(department);\n    }\n\n    result += department;\n  } // console.log(result);\n\n\n  return result;\n});","map":{"version":3,"sources":["C:\\Users\\rajni\\OneDrive\\Desktop\\Shopping-App\\client\\src\\pages\\dashboard\\utils\\generateFilterString.js"],"names":["state","result","order","department","range","name","temp","v","toUpperCase","_base_str","length","d","charAt","concat","slice","toLowerCase","_price_str_arr","p","match","replace","sorted_matched_arr","sort","a","b","index","splice"],"mappings":"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","sourcesContent":["/**\n * {\n * order:[],\n * price:[],\n * department:[]\n * }\n */\nexport default (state) => {\n  let result = ''\n  let order = ''\n  let department = ''\n  let range = ''\n  for (let name in state) {\n    // order filter\n    if (name === 'order') {\n      let temp = ''\n      for (const v of state[name]) {\n        temp = v\n      }\n      if (temp.toUpperCase() === 'ASCENDING') {\n        order = 'order=price'\n      }\n      if (temp.toUpperCase() === 'DESCENDING') {\n        order = 'order=-price'\n      }\n    }\n    // department filter\n    if (name === 'department') {\n      let _base_str = ''\n      if (state[name].length > 1) {\n        _base_str = '&department='\n      } else {\n        _base_str = 'department='\n      }\n      for (let d of state[name]) {\n        department += _base_str + d.charAt(0).concat(d.slice(1).toLowerCase())\n      }\n    }\n    // price filter\n    if (name === 'price') {\n      let _price_str_arr = []\n      for (let p of state[name]) {\n        if (p.match(/less/i)) {\n          p = p.replace(/[\\D]+/i, '0 - ')\n        }\n        if (p.match(/greater/i)) {\n          p = p.replace(/[\\D]+/i, '').concat(' - 999')\n        }\n        _price_str_arr = _price_str_arr.concat(p.match(/[\\d]+/g))\n      }\n      // sort the array\n      let sorted_matched_arr = _price_str_arr.sort(function (a, b) { return a - b })\n      // remove duplicates\n      for (let index = 0; index < sorted_matched_arr.length; index++) {\n        if (sorted_matched_arr[index] === sorted_matched_arr[index + 1]) {\n          sorted_matched_arr.splice(index, 2)\n          index--\n        }\n      }\n      // generate price range string\n      for (let index = 0; index < sorted_matched_arr.length; index++) {\n        if (index % 2 === 0) {\n          if (range) {\n            range += `&range=${sorted_matched_arr[index]}-${sorted_matched_arr[index + 1]}`\n          } else {\n            range += `range=${sorted_matched_arr[index]}-${sorted_matched_arr[index + 1]}`\n          }\n        }\n      }\n    }\n  }\n  if (range) {\n    result += range\n  }\n  if (order) {\n    if (result) {\n      order = `&${order}`\n    }\n    result += order\n  }\n  if (department) {\n    if (result) {\n      department = `&${department}`\n    }\n    result += department\n  }\n  // console.log(result);\n  return result\n}\n\n"]},"metadata":{},"sourceType":"module"}