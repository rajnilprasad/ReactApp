{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\ReactApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\ReactApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\ReactApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\ReactApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\ReactApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\ReactApp\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\rajni\\\\OneDrive\\\\Desktop\\\\BCS Notes\\\\Homework\\\\ReactApp\\\\client\\\\src\\\\pages\\\\loginsignin\\\\LoginSignin.js\";\nimport React, { Component } from 'react';\nimport styles from './stylesheets/loginsignin.module.sass';\nimport Base from './components/Base';\nimport capitalizeString from './utils/capitalizeString';\nimport jumpTo from '../../modules/Navigation';\nimport LoadingAnimation from '../../components/loadingAnimation';\n\nvar LoginSignin =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(LoginSignin, _Component);\n\n  function LoginSignin(props) {\n    var _this;\n\n    _classCallCheck(this, LoginSignin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginSignin).call(this, props));\n\n    _this.handleBlur = function (e, validResult) {\n      var name = e.target.name;\n      _this.inputText[name] = e.target.value;\n\n      if (!validResult.isValid) {\n        _this.setState(_defineProperty({}, name, {\n          errorMsg: validResult.errorMsg\n        }));\n      } else {\n        _this.setState(_defineProperty({}, name, {\n          errorMsg: ''\n        }));\n      }\n    };\n\n    _this.handleFocus = function (e) {\n      var name = e.target.name;\n\n      _this.setState(_defineProperty({}, name, {\n        errorMsg: ''\n      }));\n    };\n\n    _this.handleClick = function () {\n      //validate all input \n      var canSubmit = true;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _this.props.INPUT_CONFIG[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var input = _step.value;\n          if (!!!input.validations) continue;\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = input.validations[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var v = _step2.value;\n              var checkResult = v.check(_this.inputText[input.name]);\n              canSubmit = canSubmit && checkResult;\n\n              if (!checkResult) {\n                _this.setState(_defineProperty({}, input.name, {\n                  errorMsg: v.errMsg\n                }));\n\n                break;\n              }\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (!canSubmit) {\n        console.log('valid fail');\n        return;\n      }\n\n      if (_this.props.title === 'Login') {\n        var _this$inputText = _this.inputText,\n            email = _this$inputText.email,\n            password = _this$inputText.password;\n\n        _this.props.submitAction(email, password).then(function (res) {\n          jumpTo('/dashboard'); // console.log(res)\n          // console.log('loginsignin res');\n\n          return res;\n        }).catch(function (error) {\n          // console.log('loginsignin error')\n          // console.log(error.response)\n          alert(error.response.data.error.message);\n          return error;\n        });\n      }\n\n      if (_this.props.title === 'Signin') {\n        var _this$inputText2 = _this.inputText,\n            fullname = _this$inputText2.fullname,\n            _email = _this$inputText2.email,\n            _password = _this$inputText2.password,\n            verifyPassword = _this$inputText2.verifyPassword;\n\n        _this.props.submitAction(fullname, _email, _password, verifyPassword).then(function (res) {\n          jumpTo('/login');\n        }).catch(function (error) {\n          alert(error.response.data.error.message);\n          return error;\n        });\n      }\n    };\n\n    _this.state = {};\n    _this.inputText = {};\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n      for (var _iterator3 = props.INPUT_CONFIG[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n        var input = _step3.value;\n        _this.state[input.name] = {\n          errorMsg: ''\n        };\n        _this.inputText[input.name] = '';\n      }\n    } catch (err) {\n      _didIteratorError3 = true;\n      _iteratorError3 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n          _iterator3.return();\n        }\n      } finally {\n        if (_didIteratorError3) {\n          throw _iteratorError3;\n        }\n      }\n    }\n\n    return _this;\n  } //validate input when blur\n\n\n  _createClass(LoginSignin, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: styles.outbox,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: styles.box,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, this.props.loading && React.createElement(LoadingAnimation, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(Base, {\n        title: this.props.title,\n        inputs: this.props.INPUT_CONFIG,\n        onInputBlur: this.handleBlur,\n        onInputFocus: this.handleFocus,\n        onSubmit: this.handleClick,\n        errorMsg: this.state,\n        button_title: this.props.title,\n        footer_content: React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, this.props.footer_text, \" \", React.createElement(\"a\", {\n          href: \"/\".concat(this.props.footer_redirect),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, capitalizeString(this.props.footer_redirect))),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return LoginSignin;\n}(Component);\n\nexport { LoginSignin as default };","map":{"version":3,"sources":["C:\\Users\\rajni\\OneDrive\\Desktop\\BCS Notes\\Homework\\ReactApp\\client\\src\\pages\\loginsignin\\LoginSignin.js"],"names":["React","Component","styles","Base","capitalizeString","jumpTo","LoadingAnimation","LoginSignin","props","handleBlur","e","validResult","name","target","inputText","value","isValid","setState","errorMsg","handleFocus","handleClick","canSubmit","INPUT_CONFIG","input","validations","v","checkResult","check","errMsg","console","log","title","email","password","submitAction","then","res","catch","error","alert","response","data","message","fullname","verifyPassword","state","outbox","box","loading","footer_text","footer_redirect"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport styles from './stylesheets/loginsignin.module.sass'\nimport Base from './components/Base'\nimport capitalizeString from './utils/capitalizeString'\nimport jumpTo from '../../modules/Navigation'\nimport LoadingAnimation from '../../components/loadingAnimation'\n\n\nexport default class LoginSignin extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n    this.inputText = {}\n    for (const input of props.INPUT_CONFIG) {\n      this.state[input.name] = { errorMsg: '' }\n      this.inputText[input.name] = ''\n    }\n  }\n  //validate input when blur\n  handleBlur = (e, validResult) => {\n    const name = e.target.name\n    this.inputText[name] = e.target.value\n    if (!validResult.isValid) {\n      this.setState({\n        [name]: { errorMsg: validResult.errorMsg }\n      })\n    } else {\n      this.setState({\n        [name]: { errorMsg: '' }\n      })\n    }\n  }\n  // when focus, clear error message\n  handleFocus = (e) => {\n    const name = e.target.name\n    this.setState({\n      [name]: { errorMsg: '' }\n    })\n  }\n  //submit actions\n  handleClick = () => {\n    //validate all input \n    let canSubmit = true\n    for (const input of this.props.INPUT_CONFIG) {\n      if (!!!input.validations) continue\n      for (const v of input.validations) {\n        let checkResult = v.check(this.inputText[input.name])\n        canSubmit = canSubmit && checkResult\n        if (!checkResult) {\n          this.setState({\n            [input.name]: { errorMsg: v.errMsg }\n          })\n          break\n        }\n      }\n    }\n    if (!canSubmit) {\n      console.log('valid fail');\n      return\n    }\n    if (this.props.title === 'Login') {\n      const { email, password } = this.inputText\n      this.props.submitAction(email, password)\n        .then(res => {\n          jumpTo('/dashboard')\n          // console.log(res)\n          // console.log('loginsignin res');\n          return res\n        })\n        .catch(error => {\n          // console.log('loginsignin error')\n          // console.log(error.response)\n          alert(error.response.data.error.message)\n          return error\n        })\n    }\n    if (this.props.title === 'Signin') {\n      const { fullname, email, password, verifyPassword } = this.inputText\n      this.props.submitAction(fullname, email, password, verifyPassword)\n        .then(res => {\n          jumpTo('/login')\n        })\n        .catch(error => {\n          alert(error.response.data.error.message)\n          return error\n        })\n    }\n  }\n  render() {\n    return (\n      <div className={styles.outbox}>\n        <div className={styles.box}>\n          {this.props.loading &&\n            <LoadingAnimation />\n          }\n          <Base\n            title={this.props.title}\n            inputs={this.props.INPUT_CONFIG}\n            onInputBlur={this.handleBlur}\n            onInputFocus={this.handleFocus}\n            onSubmit={this.handleClick}\n            errorMsg={this.state}\n            button_title={this.props.title}\n            footer_content={\n              <div>\n                {this.props.footer_text} <a href={`/${this.props.footer_redirect}`}>\n                  {capitalizeString(this.props.footer_redirect)}\n                </a>\n              </div>\n            }\n          />\n        </div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}